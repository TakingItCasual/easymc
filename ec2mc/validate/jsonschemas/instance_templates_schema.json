{
    "type": "object",
    "properties": {
        "ec2mc_template_info": {
            "type": "object",
            "properties": {
                "AMI_info": {
                    "type": "object",
                    "properties": {
                        "AMI_name": {"type" : "string"},
                        "default_user": {"type" : "string"}
                    },
                    "required": ["AMI_name", "default_user"]
                },
                "instance_type": {"type": "string"},
                "volume_size": {"type": "integer"},
                "security_groups": {
                    "type" : "array",
                    "items": {"type": "string"},
                    "minItems": 1,
                    "uniqueItems": true
                },
                "ip_handler": {"type": ["string", "null"]},
                "write_directories": {
                    "type" : "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "local_dir": {"type": "string"},
                            "instance_dir": {"type": "string"},
                            "owner": {"type": "string"},
                            "chmod": {
                                "type": "string",
                                "pattern": "^[0-7]{4}$"
                            }
                        },
                        "required": ["local_dir", "instance_dir"]
                    },
                    "minItems": 1,
                    "uniqueItems": true
                }
            },
            "required": [
                "AMI_info",
                "instance_type",
                "volume_size",
                "security_groups",
                "ip_handler"
            ]
        }
    },
    "required": ["ec2mc_template_info"]
}
